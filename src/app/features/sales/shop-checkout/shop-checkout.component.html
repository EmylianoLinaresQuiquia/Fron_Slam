<main>
  <!-- section-->
  <div class="mt-4">
    <div class="container">
      <!-- row -->
      <div class="row">
        <!-- col -->
        <div class="col-12">
          <!-- breadcrumb -->
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
              <li class="breadcrumb-item"><a href="#!">Home</a></li>
              <li class="breadcrumb-item"><a href="#!">Shop</a></li>
              <li class="breadcrumb-item active" aria-current="page">Shop Checkout</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <!-- section -->
  <section class="mb-lg-14 mb-8 mt-8">
    <div class="container">
      <!-- row -->
      <div class="row">
        <!-- col -->
        <div class="col-12">
          <div>
            <div class="mb-8">
              <!-- text -->
              <h1 class="fw-bold mb-0">Checkout</h1>

            </div>
          </div>
        </div>
      </div>
      <div>
        <!-- row -->
        <div class="row">
          <div class="col-xl-7 col-lg-6 col-md-12">
            <!-- acordeón -->
            <div class="accordion accordion-flush" id="accordionFlushExample">
              <!-- elemento del acordeón -->
              <div class="accordion-item py-4">
                <div class="d-flex justify-content-between align-items-center">
                  <!-- encabezado uno -->
                  <a  class="fs-5 text-inherit collapsed h4" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="true" aria-controls="flush-collapseOne">
                    <i class="feather-icon icon-map-pin me-2 text-muted"></i>
                    Añadir dirección de entrega
                  </a>
                  <!-- botón -->
                  <a  class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#addAddressModal">Agregar una nueva dirección</a>
                </div>
                <div id="flush-collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionFlushExample">
                  <div class="mt-5">
                    <div class="row">
                      <div class="col-xl-6 col-lg-12 col-md-6 col-12 mb-4">
                        <div class="card card-body p-6">
                          <div class="form-check mb-4">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="homeRadio" checked />
                            <label class="form-check-label text-dark" for="homeRadio">Casa</label>
                          </div>
                          <address>
                            <strong>Jitu Chauhan</strong><br />
                            4450 North Avenue Oakland,<br />
                            Nebraska, Estados Unidos,<br />
                            <abbr title="Teléfono">T: 402-776-1106</abbr>
                          </address>
                          <span class="text-danger">Dirección predeterminada</span>
                        </div>
                      </div>
                      <div class="col-xl-6 col-lg-12 col-md-6 col-12 mb-4">
                        <div class="card card-body p-6">
                          <div class="form-check mb-4">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="officeRadio" />
                            <label class="form-check-label text-dark" for="officeRadio">Oficina</label>
                          </div>
                          <address>
                            <strong>Nitu Chauhan</strong><br />
                            3853 Coal Road,<br />
                            Tannersville, Pennsylvania, 18372, Estados Unidos,<br />
                            <abbr title="Teléfono">T: 402-776-1106</abbr>
                          </address>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item py-4">
                <a  class="text-inherit collapsed h5" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                  <i class="feather-icon icon-clock me-2 text-muted"></i>
                  Horario de entrega
                </a>
                <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                  <ul class="nav nav-pills nav-pills-light mb-3 nav-fill mt-5" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="pills-today-tab" data-bs-toggle="pill" data-bs-target="#pills-today" type="button" role="tab" aria-controls="pills-today" aria-selected="true">
                        Hoy<br />
                        <small>3 Oct</small>
                      </button>
                    </li>
                  </ul>
                  <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-today" role="tabpanel" aria-labelledby="pills-today-tab" tabindex="0">
                      <ul class="list-group list-group-flush mt-4">
                        <li class="list-group-item d-flex justify-content-between align-items-center px-0 py-3">
                          <div class="col-4">
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
                              <label class="form-check-label" for="flexRadioDefault1">
                                <span>En menos de 2 horas</span>
                              </label>
                            </div>
                          </div>
                          <div class="col-3 text-center">$3.99</div>
                          <div class="col-3 text-center"><span class="badge bg-danger">Pagado</span></div>
                          <div class="col-2 text-end"><a  class="btn btn-outline-gray-400 btn-sm text-muted">Elegir</a></div>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="mt-5 d-flex justify-content-end">
                    <a  class="btn btn-outline-gray-400 text-muted" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                      Anterior
                    </a>
                    <a  class="btn btn-primary ms-2" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">Siguiente</a>
                  </div>
                </div>
              </div>
              <div class="accordion-item py-4">
                <a  class="text-inherit h5" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                  <i class="feather-icon icon-shopping-bag me-2 text-muted"></i>
                  Instrucciones de entrega
                </a>
                <div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                  <div class="mt-5">
                    <label for="DeliveryInstructions" class="form-label sr-only">Instrucciones de entrega</label>
                    <textarea class="form-control" id="DeliveryInstructions" rows="3" placeholder="Escribe las instrucciones de entrega"></textarea>
                    <p class="form-text">Agrega instrucciones sobre cómo quieres que se realice tu pedido.</p>
                    <div class="mt-5 d-flex justify-content-end">
                      <a  class="btn btn-outline-gray-400 text-muted" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                        Anterior
                      </a>
                      <a  class="btn btn-primary ms-2" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">Siguiente</a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item py-4">
                <a  class="text-inherit h5" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                  <i class="feather-icon icon-credit-card me-2 text-muted"></i>
                  Método de pago
                </a>
                <div id="flush-collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                  <div class="mt-5">
                    <div class="card card-bordered shadow-none mb-2">
                      <div class="card-body p-6">
                        <div class="d-flex">
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="paypal" />
                            <label class="form-check-label ms-2" for="paypal"></label>
                          </div>
                          <div>
                            <h5 class="mb-1 h6">Pago con PayPal</h5>
                            <p class="mb-0 small">Serás redirigido al sitio web de PayPal para completar tu compra de manera segura.</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Más métodos de pago aquí -->
                    <div class="mt-5 d-flex justify-content-end">
                      <a  class="btn btn-outline-gray-400 text-muted" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                        Anterior
                      </a>
                      <a (click)="enviarPedido()" class="btn btn-primary ms-2">Realizar pedido</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="col-md-12 offset-xl-1 col-xl-4 col-lg-6">
            <div class="mt-4 mt-lg-0">
              <div class="card shadow-sm">
                <h5 class="px-6 py-4 bg-transparent mb-0">Order Details</h5>
                <ul class="list-group list-group-flush">
                  <!-- Iteración sobre los productos -->
                  <li *ngFor="let item of carrito" class="list-group-item px-4 py-3">
                    <div class="row align-items-center">
                      <div class="col-2 col-md-2">
                        <img [src]="item.imagen_url" alt="Product Image" class="img-fluid" />
                      </div>
                      <div class="col-5 col-md-5">
                        <h6 class="mb-0">{{ item.producto_nombre }}</h6>
                        <span><small class="text-muted">{{ item.unidad_medida }}</small></span>
                      </div>
                      <div class="col-2 col-md-2 text-center text-muted">
                        <span>{{ item.cantidad_disponible }}</span>
                      </div>
                      <div class="col-3 text-lg-end text-start text-md-end col-md-3">
                        <span class="fw-bold">{{ (item.precio * item.cantidad_disponible) | currency }}</span>
                      </div>
                    </div>
                  </li>

                  <!-- Resumen de totales -->
                  <li class="list-group-item px-4 py-3">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                      <div>Item Subtotal</div>
                      <div class="fw-bold">{{ subtotal | currency }}</div>
                    </div>
                    <div class="d-flex align-items-center justify-content-between">
                      <div>Service Fee</div>
                      <div class="fw-bold">{{ 3 | currency }}</div>
                    </div>
                  </li>
                  <li class="list-group-item px-4 py-3">
                    <div class="d-flex align-items-center justify-content-between fw-bold">
                      <div>Total</div>
                      <div>{{ total | currency }}</div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>
</main>
